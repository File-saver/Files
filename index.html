<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>HAPPY NEW YEAR</title>
        <link href="https://fonts.googleapis.com/css?family=Bebas+Neue&display=swap" rel="stylesheet">
        <style>
            html,body {
                height: 100%;
            }
            body{
                background: #000000;
                margin: 10px;
                font-size: 2vw;
                margin: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            } 
            canvas {    
                background-color: #000000;
                max-width: 100%;
                max-height: 100%;
                width: auto;
                height: auto;
                resize: both;
            }
            center{
                z-index: 100;
                max-width: 100%;
                max-height: 100%;
                width: auto;
                height: auto;
            }
            @font-face {
                font-family: 'Bebas Neue';
                font-style: normal;
                font-weight: 400;
                font-display: swap;
                src: url(https://fonts.gstatic.com/s/bebasneue/v8/JTUSjIg69CK48gW7PXoo9Wdhyzbi.woff2) format('woff2');
                unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
            }
            @font-face {
                font-family: 'Bebas Neue';
                font-style: normal;
                font-weight: 400;
                font-display: swap;
                src: url(https://fonts.gstatic.com/s/bebasneue/v8/JTUSjIg69CK48gW7PXoo9Wlhyw.woff2) format('woff2');
                unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
            }
            @-webkit-keyframes fadeIn {
                0%{opacity:0;}
                50% {opacity:1;}
                100%{opacity:0;}
            }
            .fadeIn{
                font-family:幼圆;
                word-break:keep-all;
                white-space:nowrap;
                overflow:hidden;
                position:absolute;
                -webkit-animation-name:fadeIn;
                -webkit-animation-duration:4s;
                -webkit-animation-iteration-count:1;
                -webkit-animation-delay:0s;
                opacity:0;
            }
            footer,button{
                border: 0;
                background-color: #0000;
                position:fixed;
                font-size:25px;
                color: #ffffff;
            }
        </style>
    </head>
    <body>
        <canvas id='myCanvas' width='600px' height='800px'></canvas>
        <script type="text/javascript">
        const max_fireworks=5,
                max_sparks=50;
            let canvas=document.getElementById('myCanvas');
            let context=canvas.getContext('2d');
            let fireworks=[];
             
            for (let i=0; i < max_fireworks; i++){
                let firework={
                    sparks:[]
                };
                for (let n=0; n < max_sparks; n++){
                    let spark={
                        vx: Math.random()*5+.5,
                        vy: Math.random()*5+.5,
                        weight: Math.random()*.3+.03,
                        red: Math.floor(Math.random()*2),
                        green: Math.floor(Math.random()*2),
                        blue: Math.floor(Math.random()*2)
                    };
                    if (Math.random()>.5) spark.vx=-spark.vx;
                    if (Math.random()>.5) spark.vy=-spark.vy;
                    firework.sparks.push(spark);
                }
                fireworks.push(firework);
                resetFirework(firework);
            }
            window.requestAnimationFrame(explode);
            function resetFirework(firework){
                firework.x=Math.floor(Math.random()*canvas.width);
                firework.y=canvas.height;
                firework.age=0;
                firework.phase='fly';
            }
            function explode(){
                context.clearRect(0,0,canvas.width,canvas.height);
                fireworks.forEach((firework,index) => {
                    if (firework.phase == 'explode') {
                            firework.sparks.forEach((spark) => {
                            for (let i=0; i < 10; i++) {
                                let trailAge=firework.age+i;
                                let x=firework.x+spark.vx*trailAge;
                                let y=firework.y+spark.vy*trailAge+spark.weight*trailAge*spark.weight*trailAge;
                                let fade=i*20-firework.age*2;
                                let r=Math.floor(spark.red*fade);
                                let g=Math.floor(spark.green*fade);
                                let b=Math.floor(spark.blue*fade);
                                context.beginPath();
                                context.fillStyle='rgba('+r+','+g+','+b+',1)';
                                context.rect(x,y,4,4);
                                context.fill();
                            }
                        });
                        firework.age++;
                        if (firework.age>100 && Math.random()<.05) {
                            resetFirework(firework);
                        }
                    } else {
                        firework.y=firework.y-10;
                        for (let spark=0; spark < 15; spark++) {
                            context.beginPath();
                            context.fillStyle='rgba('+index*50+','+spark*17+',0,1)';
                            context.rect(firework.x+Math.random()*spark-spark/2,firework.y+spark*4,4,4);
                            context.fill();
                        }
                        if (Math.random() < .001 || firework.y < 200) firework.phase='explode';
                    }
                });
                context.fillStyle="white";
                context.textAlign="center";
                context.font="70px Bebas Neue";
                context.fillText("张浩然祝老师",canvas.width/2,canvas.height/4.8);
                context.font="120px Bebas Neue";
                context.fillText("新年快乐",canvas.width/2,canvas.height/2.4);
                context.font="100px Bebas Neue";
                context.fillText("2022",canvas.width/2,canvas.height/1.7);
                window.requestAnimationFrame(explode);
            }
        </script>
        <script type="text/javascript">
        document.documentElement.style.overflow = 'hidden'
        var Texts='虎年大吉 虎虎生威 如虎添翼 不亦乐虎 合乐融融 财运滚滚 一帆风顺 二龙腾飞 三羊开泰 四季平安 五福临门 六六大顺 七星高照 八方来财 九九同心 十全十美 岁岁平安 安居乐业 业和邦兴 兴旺发达 大吉大利 力争上游 游刃有余 双星报喜 三洋开泰 事事如意 八仙过海 长长久久'.split(' ')
        function Update() {
            var div=document.createElement("div");
            div.style.fontSize=Math.round(17+Math.random()*6)+'px';
            div.className='fadeIn';
            div.style.left=Math.round(Math.random()*window.screen.availWidth)-12+'px';
            div.style.top=Math.round(Math.random()*window.screen.availHeight)-12+'px';
            div.style.color='rgb('+Math.round(Math.random()*255)+','+Math.round(Math.random()*255)+','+Math.round(Math.random()*255)+')';
            div.appendChild(document.createTextNode(Texts[Math.round(Math.random()*27)]));
            document.body.appendChild(div);
        }
        function Click(){
            music=document.getElementById("music");
            if(music.paused){
                music.paused=false;
                music.play();
            }
        }
        window.setInterval(Update,150);
    </script>
    <audio id="music" autoplay="true" controls="true" loop="true" preload="auto" hidden="true" src="Origin.mp3"></audio>
    <button onclick='Click()' style='bottom:100px;'>播放音乐</button><footer style='bottom:20px;'>Made By 张浩然&emsp;2022/01/31</footer>
    </body>
</html>
